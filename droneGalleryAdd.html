<!-- PUT TO THE SIDE -->

<!DOCTYPE html>
<html>
<head>
	<title>Drone Gallery</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <link rel="stylesheet" href="droneGalleryCSS.css" />
	<script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

</head>
<body>
    <div id="header">
          <div class="wrap">
               <p>Drone Gallery</p>
          </div>
    </div>
    

    <script>
    // function loadJSON(callback) {
    // //     var xobj = new XMLHttpRequest();
    // //     xobj.overrideMimeType("application/json");
    // //     xobj.open('GET', 'droneGalleryJSON.json', true);
    // //     xobj.onreadystatechange = function () {
    // //         if (xobj.readyState == 4 && xobj.status == "200") {

    // //             // .open will NOT return a value but simply returns undefined in async mode so use a callback
    // //             callback(xobj.responseText);

    // //         }
    // //     }
    // //     xobj.send(null);

    // // }

    // //     // Call to function with anonymous callback
    // // loadJSON(function(response) {
    // //     // Do Something with the response e.g.
    // //     jsonresponse = JSON.parse(response);

    // //     // Assuming json data is wrapped in square brackets as Drew suggests
    // //     console.log(jsonresponse[0].name);


    // // });

    // $.getJSON("droneGalleryJSON.json", function(json) {
    //     console.log(json); // this will show the info it in firebug console - json[1].layer
    //     // var newData = {
    //     //     "layer": "test2",
    //     //     "description": "imagery of coral reefs of the coast of Ambergris Caye, Belize.",
    //     //     "date": "6/18/16",
    //     //     "xcoor": "17.976048",
    //     //     "ycoor": "-87.935484"
    //     // };
    //     // json.push(newData);
    //     // console.log("pushed");
        
    // });


    // function loadJSON(callback) {   
    //   var xobj = new XMLHttpRequest();
    //       xobj.overrideMimeType("application/json");
    //   xobj.open('GET', 'droneGalleryJSON.json', true); // Replace 'my_data' with the path to your file
    //   xobj.onreadystatechange = function () {
    //         if (xobj.readyState == 4 && xobj.status == "200") {
    //           // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
    //           callback(xobj.responseText);
    //         }
    //   };
    //   xobj.send(null);  
    // }

    // function init() {
    // loadJSON(function(response) {
    //   // Parse JSON string into object
    //    var actual_JSON = JSON.parse(response);
    //  });
    // }



    function insertNewDroneData(passForm) {
        var newLocation = passForm.addLocation.value;
        var newWorkspace = passForm.addWorkspace.value;
        var newStoreLayerName = passForm.addStoreLayerName.value;
        var newXCoor = passForm.addXCoor.value;
        var newYCoor = passForm.addYCoor.value;
        var newLine = newLocation + ", " + newWorkspace + ", " + 
        newStoreLayerName + ", " + newXCoor + ", " + newYCoor ;
        console.log(newLine);
     }

    </script>



    <!-- Drop down menu for change of location -->
    <form id = "newData">
        Location Name<br>
        <input type="text" name="addLocation">
        <br>
        Workspace<br>
        <input type="text" name="addWorkspace">
        <br>
        GeoServer Store/Layer Name<br>
        <input type="text" name="addStoreLayerName">
        <br>
        X-Coordinate<br>
        <input type="text" name="addXCoor">
        <br>
        Y-Coordinate<br>
        <input type="text" name="addYCoor"><br>
        <input type="button" value="submit" onclick="insertNewDroneData(this.form)">
    </form>

    <a href="droneGallery.html">Return</a>

    

    <script>
    //http://nodeexamples.com/2012/09/21/connecting-to-a-postgresql-database-from-node-js-using-the-pg-module/
//http://www.tothenew.com/blog/connect-to-postgresql-using-javascript/
    //http://php.net/manual/en/function.pg-connect.php
    //http://www.w3resource.com/PostgreSQL/PostgreSQL-insert.php

//https://katecpp.wordpress.com/2015/09/30/load-external-json/


// Location Name,Workspace,GeoServer Store/Layer Name,Xcoor,Ycoor
// North Beach,dronegallery,northbeach,31.689536,-81.135932
// Mexico Rocks,dronegallery,mexico_rocks,17.976048,-87.935484
// Belizean Estates,dronegallery,belizean_estates,17.976048,-87.935484
// Sewall Marsh,dronegallery,sewall_marsh,43.723877,-69.829684


    </script>
</body>
</html>
